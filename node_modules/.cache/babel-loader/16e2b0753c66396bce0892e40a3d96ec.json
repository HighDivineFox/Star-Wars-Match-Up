{"ast":null,"code":"var _jsxFileName = \"D:\\\\apache\\\\htdocs\\\\React\\\\FreeCodeCampTuts\\\\API\\\\api-prac\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport Header from './Components/Header';\nimport Content from './Components/Content';\nimport Reroll from './Components/Reroll';\n/*\n  App feature.\n    Ability to seelct which character wins in a certain scenario.\n\n  Scenarios\n    Fight\n*/\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.getCharacters = this.getCharacters.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCharacters();\n  }\n\n  getCharacters() {\n    this.setState({\n      isLoading: true\n    });\n    var firstCharIndex = Math.ceil(Math.random() * 88);\n    var secondCharIndex = Math.ceil(Math.random() * 88); // Index 17 is not available on swapi.co\n\n    while (firstCharIndex === 17) {\n      firstCharIndex = Math.ceil(Math.random() * 88);\n    } // Index 17 is not available on swapi.co\n\n\n    while (secondCharIndex === 17) {\n      secondCharIndex = Math.ceil(Math.random() * 88);\n    } // Ensure two different characters are selected\n\n\n    while (firstCharIndex === secondCharIndex) {\n      secondCharIndex = Math.ceil(Math.random() * 88);\n    }\n\n    var firstCharURL = \"https://swapi.co/api/people/\" + firstCharIndex;\n    var secondCharURL = \"https://swapi.co/api/people/\" + secondCharIndex;\n    Promise.all([fetch(firstCharURL).then(response => response.json()), fetch(secondCharURL).then(response => response.json())]).then(characters => {\n      Promise.all([fetch(characters[0].species).then(response => response.json()), fetch(characters[1].species).then(response => response.json())]).then(species => {\n        var firstCharacter = this.getCharacterObject(characters[0], species[0], firstCharIndex);\n        var secondCharacter = this.getCharacterObject(characters[1], species[1], secondCharIndex);\n        this.setState({\n          isLoading: false,\n          firstCharacter: firstCharacter,\n          secondCharacter: secondCharacter\n        });\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(Content, {\n      getChar: this.getCharacters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Reroll, {\n      event: this.getCharacters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }));\n  }\n\n  getCharacterObject(character, species, index) {\n    return {\n      index: index,\n      name: character.name,\n      species: species.name,\n      gender: character.gender,\n      birth_year: character.birth_year,\n      hair_color: character.hair_color,\n      mass: character.mass\n    };\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:\\apache\\htdocs\\React\\FreeCodeCampTuts\\API\\api-prac\\src\\App.js"],"names":["React","Header","Content","Reroll","App","Component","constructor","state","getCharacters","bind","componentDidMount","setState","isLoading","firstCharIndex","Math","ceil","random","secondCharIndex","firstCharURL","secondCharURL","Promise","all","fetch","then","response","json","characters","species","firstCharacter","getCharacterObject","secondCharacter","render","character","index","name","gender","birth_year","hair_color","mass"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AAEA;;;;;;;;AAQA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAa,EAAb;AAGA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAEDC,EAAAA,iBAAiB,GAAE;AACjB,SAAKF,aAAL;AACD;;AAEDA,EAAAA,aAAa,GAAE;AACb,SAAKG,QAAL,CAAc;AACZC,MAAAA,SAAS,EAAG;AADA,KAAd;AAIA,QAAIC,cAAc,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,EAA1B,CAArB;AACA,QAAIC,eAAe,GAAGH,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,EAA1B,CAAtB,CANa,CAQb;;AACA,WAAMH,cAAc,KAAK,EAAzB,EAA4B;AAC1BA,MAAAA,cAAc,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,EAA1B,CAAjB;AACD,KAXY,CAab;;;AACA,WAAMC,eAAe,KAAK,EAA1B,EAA6B;AAC3BA,MAAAA,eAAe,GAAGH,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,EAA1B,CAAlB;AACD,KAhBY,CAkBb;;;AACA,WAAMH,cAAc,KAAKI,eAAzB,EAAyC;AACvCA,MAAAA,eAAe,GAAGH,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,EAA1B,CAAlB;AACD;;AAED,QAAIE,YAAY,GAAG,iCAAiCL,cAApD;AACA,QAAIM,aAAa,GAAG,iCAAiCF,eAArD;AAEAG,IAAAA,OAAO,CAACC,GAAR,CAAY,CACVC,KAAK,CAACJ,YAAD,CAAL,CAAoBK,IAApB,CAAyBC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAArC,CADU,EAEVH,KAAK,CAACH,aAAD,CAAL,CAAqBI,IAArB,CAA0BC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAAtC,CAFU,CAAZ,EAGGF,IAHH,CAGSG,UAAD,IAAgB;AACtBN,MAAAA,OAAO,CAACC,GAAR,CAAY,CACVC,KAAK,CAACI,UAAU,CAAC,CAAD,CAAV,CAAcC,OAAf,CAAL,CAA6BJ,IAA7B,CAAkCC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAA9C,CADU,EAEVH,KAAK,CAACI,UAAU,CAAC,CAAD,CAAV,CAAcC,OAAf,CAAL,CAA6BJ,IAA7B,CAAkCC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAA9C,CAFU,CAAZ,EAGGF,IAHH,CAGSI,OAAD,IAAa;AAEnB,YAAIC,cAAc,GAAG,KAAKC,kBAAL,CAAwBH,UAAU,CAAC,CAAD,CAAlC,EAAuCC,OAAO,CAAC,CAAD,CAA9C,EAAmDd,cAAnD,CAArB;AACA,YAAIiB,eAAe,GAAG,KAAKD,kBAAL,CAAwBH,UAAU,CAAC,CAAD,CAAlC,EAAuCC,OAAO,CAAC,CAAD,CAA9C,EAAmDV,eAAnD,CAAtB;AAEA,aAAKN,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAG,KADA;AAEZgB,UAAAA,cAAc,EAAGA,cAFL;AAGZE,UAAAA,eAAe,EAAGA;AAHN,SAAd;AAKD,OAbD;AAcD,KAlBD;AAmBD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKvB,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAIE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,KAAKA,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADF;AAQD;;AAEDqB,EAAAA,kBAAkB,CAACG,SAAD,EAAYL,OAAZ,EAAqBM,KAArB,EAA2B;AAC3C,WAAO;AACLA,MAAAA,KAAK,EAAEA,KADF;AAELC,MAAAA,IAAI,EAAEF,SAAS,CAACE,IAFX;AAGLP,MAAAA,OAAO,EAAEA,OAAO,CAACO,IAHZ;AAILC,MAAAA,MAAM,EAAEH,SAAS,CAACG,MAJb;AAKLC,MAAAA,UAAU,EAAEJ,SAAS,CAACI,UALjB;AAMLC,MAAAA,UAAU,EAAEL,SAAS,CAACK,UANjB;AAOLC,MAAAA,IAAI,EAAEN,SAAS,CAACM;AAPX,KAAP;AASD;;AAjF+B;;AAqFlC,eAAelC,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Header from './Components/Header';\nimport Content from './Components/Content';\nimport Reroll from './Components/Reroll';\n\n/*\n  App feature.\n    Ability to seelct which character wins in a certain scenario.\n\n  Scenarios\n    Fight\n*/\n\nclass App extends React.Component {\n  constructor(){\n    super()\n    this.state = {\n    }\n\n    this.getCharacters = this.getCharacters.bind(this)\n  }\n\n  componentDidMount(){\n    this.getCharacters()\n  }\n\n  getCharacters(){\n    this.setState({\n      isLoading : true\n    })\n\n    var firstCharIndex = Math.ceil(Math.random() * 88)\n    var secondCharIndex = Math.ceil(Math.random() * 88)\n\n    // Index 17 is not available on swapi.co\n    while(firstCharIndex === 17){\n      firstCharIndex = Math.ceil(Math.random() * 88)\n    }\n\n    // Index 17 is not available on swapi.co\n    while(secondCharIndex === 17){\n      secondCharIndex = Math.ceil(Math.random() * 88)\n    }\n\n    // Ensure two different characters are selected\n    while(firstCharIndex === secondCharIndex){\n      secondCharIndex = Math.ceil(Math.random() * 88)\n    }\n\n    var firstCharURL = \"https://swapi.co/api/people/\" + firstCharIndex\n    var secondCharURL = \"https://swapi.co/api/people/\" + secondCharIndex\n\n    Promise.all([\n      fetch(firstCharURL).then(response => response.json()),\n      fetch(secondCharURL).then(response => response.json())\n    ]).then((characters) => {\n      Promise.all([\n        fetch(characters[0].species).then(response => response.json()),\n        fetch(characters[1].species).then(response => response.json())\n      ]).then((species) => {\n\n        var firstCharacter = this.getCharacterObject(characters[0], species[0], firstCharIndex)\n        var secondCharacter = this.getCharacterObject(characters[1], species[1], secondCharIndex)\n\n        this.setState({\n          isLoading : false,\n          firstCharacter : firstCharacter,\n          secondCharacter : secondCharacter,\n        })\n      })\n    })    \n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <Content getChar={this.getCharacters}\n        />\n        <Reroll event={this.getCharacters}/>\n      </div>\n    )\n  }\n\n  getCharacterObject(character, species, index){\n    return {\n      index: index,\n      name: character.name,\n      species: species.name,\n      gender: character.gender,\n      birth_year: character.birth_year,\n      hair_color: character.hair_color,\n      mass: character.mass\n    }\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}